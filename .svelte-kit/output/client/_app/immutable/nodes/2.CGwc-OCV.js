import{e as Ye,h as z,g as Ae,H as Be,i as Ee,r as Le,a as Ve,s as ue,j as Ue,E as ae,k as be,l as ge,m as We,n as $e,o as qe,p as Pe,q as ze,d as M,t as H,f as oe,u as S,v as ve,w as $,c as ce}from"../chunks/disclose-version.0b-cXPwx.js";import{k as Fe,c as Ge,r as Ne,l as Se,p as Ke,I as Qe,q as Xe,h as ye,e as C,m as Ze,s as B,n as Je,t as je,v as er,i as rr,S as tr,a as ar,w as nr,f as e,x as de,y as lr,z as se,A as _}from"../chunks/runtime.BNACdMx9.js";import{p as q,i as P}from"../chunks/if.DB6ca8XY.js";let _e=null;function xe(n,r){return r}function or(n,r,t,o){for(var m=[],v=r.length,u=0;u<v;u++)Je(r[u].e,m,!0);var c=v>0&&m.length===0&&t!==null;if(c){var A=t.parentNode;We(A),A.append(t),o.clear(),L(n,r[0].prev,r[v-1].next)}je(m,()=>{for(var w=0;w<v;w++){var k=r[w];c||(o.delete(k.k),L(n,k.prev,k.next)),er(k.e,!c)}})}function we(n,r,t,o,m,v=null){var u={flags:r,items:new Map,first:null};{var c=n;n=z?Ae(c.firstChild):c.appendChild(Ye())}var A=null;Fe(()=>{var w=t(),k=Ge(w)?w:w==null?[]:Array.from(w),l=k.length,p=u.flags;p&ge&&!rr(k)&&!(tr in k)&&!(ar in k)&&(p^=ge,p&qe&&!(p&ae)&&(p^=ae));let i=!1;if(z){var x=n.data===Be;(x!==(l===0)||Ee===void 0)&&(Le(Ve),ue(!1),i=!0)}if(z){for(var s=Ee,g=null,R,N=0;N<l;N++){if(s.nodeType!==8||s.data!==Ue){i=!0,ue(!1);break}s=Ae(s);var f=k[N],d=o(f,N);R=Te(s,u,g,null,f,d,N,m,p),u.items.set(d,R),s=s.nextSibling,g=R}if(l>0)for(;s!==n;){var Q=s.nextSibling;s.remove(),s=Q}}z||sr(k,u,n,m,p,o),v!==null&&(l===0?A?Ne(A):A=Se(()=>v(n)):A!==null&&Ke(A,()=>{A=null})),i&&ue(!0)})}function sr(n,r,t,o,m,v){var G,ne,J,j;var u=(m&$e)!==0,c=(m&(ae|be))!==0,A=n.length,w=r.items,k=r.first,l=k,p=new Set,i=null,x=new Set,s=[],g=[],R,N,f,d;if(u)for(d=0;d<A;d+=1)R=n[d],N=v(R,d),f=w.get(N),f!==void 0&&((G=f.a)==null||G.measure(),x.add(f));for(d=0;d<A;d+=1){if(R=n[d],N=v(R,d),f=w.get(N),f===void 0){var Q=l?l.e.nodes.start:t;i=Te(Q,r,i,i===null?r.first:i.next,R,N,d,o,m),w.set(N,i),s=[],g=[],l=i.next;continue}if(c&&ir(f,R,d,m),f.e.f&Qe&&(Ne(f.e),u&&((ne=f.a)==null||ne.unfix(),x.delete(f))),f!==l){if(p.has(f)){if(s.length<g.length){var F=g[0],O;i=F.prev;var X=s[0],V=s[s.length-1];for(O=0;O<s.length;O+=1)ke(s[O],F,t);for(O=0;O<g.length;O+=1)p.delete(g[O]);L(r,X.prev,V.next),L(r,i,X),L(r,V,F),l=F,i=V,d-=1,s=[],g=[]}else p.delete(f),ke(f,l,t),L(r,f.prev,f.next),L(r,f,i===null?r.first:i.next),L(r,i,f),i=f;continue}for(s=[],g=[];l!==null&&l.k!==N;)p.add(l),g.push(l),l=l.next;if(l===null)continue;f=l}s.push(f),i=f,l=f.next}const Y=Array.from(p);for(;l!==null;)Y.push(l),l=l.next;var U=Y.length;if(U>0){var Z=m&Pe&&A===0?t:null;if(u){for(d=0;d<U;d+=1)(J=Y[d].a)==null||J.measure();for(d=0;d<U;d+=1)(j=Y[d].a)==null||j.fix()}or(r,Y,Z,w)}u&&Xe(()=>{var le;for(f of x)(le=f.a)==null||le.apply()}),ye.first=r.first&&r.first.e,ye.last=i&&i.e}function ir(n,r,t,o){o&ae&&C(n.v,r),o&be?C(n.i,t):n.i=t}function Te(n,r,t,o,m,v,u,c,A){var w=_e;try{var k=(A&ae)!==0,l=(A&ge)===0,p=k?l?Ze(m):B(m):m,i=A&be?B(u):u,x={i,v:p,k:v,a:null,e:null,prev:t,next:o};return _e=x,x.e=Se(()=>c(n,p,i),z),x.e.prev=t&&t.e,x.e.next=o&&o.e,t===null?r.first=x:(t.next=x,t.e.next=x.e),o!==null&&(o.prev=x,o.e.prev=x.e),x}finally{_e=w}}function ke(n,r,t){for(var o=n.next?n.next.e.nodes.start:t,m=r?r.e.nodes.start:t,v=n.e.nodes.start;v!==o;){var u=v.nextSibling;m.before(v),v=u}}function L(n,r,t){r===null?n.first=t:(r.next=t,r.e.next=t&&t.e),t!==null&&(t.prev=r,t.e.prev=r&&r.e)}function Ie(n,r){var t=n.__className,o=fr(r);z&&n.className===o?n.__className=o:(t!==o||z&&n.className!==o)&&(r==null?n.removeAttribute("class"):n.className=o,n.__className=o)}function fr(n){return n??""}var ur=(n,r,t)=>r(t.EASY),vr=(n,r,t)=>r(t.MEDIUM),cr=(n,r,t)=>r(t.HARD),dr=H("ðŸ’£",1),_r=H("<p> </p>"),gr=H("ðŸš©",1),br=H("<button><!></button>"),hr=H('<div class="whitespace-nowrap"></div>'),pr=H("<h1>Congrats! You Won!!!</h1>"),mr=H("<h1> </h1>"),Ar=(n,r)=>r(),Er=H('<button class="m-auto rounded bg-gray-300 px-4 py-2 font-bold text-gray-800 hover:bg-gray-400">Restart</button>'),yr=H('<button class="m-auto rounded bg-green-300 px-4 py-2 font-bold text-gray-800 enabled:hover:bg-green-400 disabled:bg-gray-300 disabled:text-gray-400">Easy</button> <button class="m-auto rounded bg-yellow-300 px-4 py-2 font-bold text-gray-800 hover:bg-yellow-400 disabled:bg-gray-300 disabled:text-gray-400">Medium</button> <button class="m-auto rounded bg-red-300 px-4 py-2 font-bold text-gray-800 hover:bg-red-400 disabled:bg-gray-300 disabled:text-gray-400">Hard</button> <div class="align-items-center flex flex-col gap-5 pt-5 text-center"><div class="flex justify-center gap-5"><h1> </h1> <h1> </h1></div> <div></div> <!> <!> <!></div>',1);function Ir(n,r){nr(r,!0);var t=(a=>(a[a.PLAYING=0]="PLAYING",a[a.GAMEOVER=1]="GAMEOVER",a[a.WON=2]="WON",a))(t||{}),o=(a=>(a[a.EASY=0]="EASY",a[a.MEDIUM=1]="MEDIUM",a[a.HARD=2]="HARD",a))(o||{});const m={0:{height:9,width:9,numberOfBombs:10},1:{height:16,width:16,numberOfBombs:40},2:{height:16,width:30,numberOfBombs:99}};let v=B(0),u=se(()=>m[e(v)].height),c=se(()=>m[e(v)].width),A=se(()=>m[e(v)].numberOfBombs);const w=[[0,-1],[0,1],[-1,0],[1,0],[-1,-1],[-1,1],[1,-1],[1,1]];let k=se(()=>e(u)*e(c)-e(A)),l=B(q(e(A))),p=B(0),i=B(0),x,s=B(q(Array(e(u)).fill(0).map(()=>Array(e(c)).fill(0)))),g=B(q(Array(e(u)).fill(0).map(()=>Array(e(c)).fill(0))));function R(){console.log(e(u)),console.log(e(v)),console.log(m[e(v)]),C(s,q(Array(e(u)).fill(0).map(()=>Array(e(c)).fill(0)))),C(g,q(Array(e(u)).fill(0).map(()=>Array(e(c)).fill(0))))}function N(){const a=[...Array(e(u)*e(c)).keys()];for(let b=0;b<e(A);b++){const h=Math.floor(a.length*Math.random()),E=a[h],W=a.pop();h<a.length&&(a[h]=W||0);const y=Math.floor(E/e(c)),I=E%e(c);e(s)[y][I]=-1,f(e(s),y,I)}}N();function f(a,b,h){for(let[E,W]of w){const y=b+E,I=h+W;console.log(),y>=0&&y<e(u)&&I>=0&&I<e(c)&&a[y][I]!==-1&&(a[y][I]+=1)}}function d(){e(p)===e(k)&&e(l)===0&&C(i,2)}function Q(a,b){if(e(g)[a][b]===0){if(e(g)[a][b]=1,e(s)[a][b]===-1){C(i,1),function h(E){x=setTimeout(function(){for(;E<e(c)*e(u)&&e(s)[Math.floor(E/e(c))][E%e(c)]!==-1;)E++;E<e(c)*e(u)&&(e(g)[Math.floor(E/e(c))][E%e(c)]=1,h(++E))},150)}(0);return}C(p,e(p)+1),e(s)[a][b]===0&&O(a,b),d()}}function F(a,b,h){a.preventDefault();const E=e(g)[b][h];E!==1&&(E===0&&e(l)>0?(C(l,e(l)-1),e(g)[b][h]=-1):E===-1&&(C(l,e(l)+1),e(g)[b][h]=0),d())}function O(a,b){const h=[[a,b]];for(;h.length>0;){const[E,W]=h.pop();for(let[y,I]of w){const T=E+y,D=W+I;T>=0&&T<e(u)&&D>=0&&D<e(c)&&e(g)[T][D]===0&&e(s)[T][D]!==-1&&(e(g)[T][D]=1,C(p,e(p)+1),e(s)[T][D]===0&&h.push([T,D]))}}}function X(){clearTimeout(x),R(),N(),C(p,0),C(l,q(e(A))),C(i,0)}function V(a){C(v,q(a)),X()}var Y=yr(),U=oe(Y);U.__click=[ur,V,o];var Z=S(S(U,!0));Z.__click=[vr,V,o];var G=S(S(Z,!0));G.__click=[cr,V,o];var ne=S(S(G,!0)),J=$(ne),j=$(J),le=$(j),Ce=S(S(j,!0)),Re=$(Ce),he=S(S(J,!0));we(he,73,()=>e(s),xe,(a,b,h)=>{var E=hr();we(E,73,()=>_(b),xe,(W,y,I)=>{var T=br();T.__click=()=>Q(_(h),_(I)),T.__contextmenu=ee=>F(ee,_(h),_(I));var D=$(T);P(D,()=>e(g)[_(h)][_(I)]===1,ee=>{var re=ce(),ie=oe(re);P(ie,()=>_(y)===-1,te=>{var K=dr();M(te,K)},te=>{var K=ce(),Oe=oe(K);P(Oe,()=>_(y)!==0,De=>{var fe=_r(),He=$(fe);de(()=>{Ie(fe,`font-bold ${(_(y)===1?"text-blue-700":_(y)===2?"text-green-700":_(y)===3?"text-red-600":_(y)===4?"text-purple-800":_(y)===5?"text-purple-950":_(y)===6?"text-amber-700":_(y)===7?"text-black":"text-gray-600")??""}`),ve(He,_(y))}),M(De,fe)},null,!0),M(te,K)}),M(ee,re)},ee=>{var re=ce(),ie=oe(re);P(ie,()=>e(g)[_(h)][_(I)]===-1,te=>{var K=gr();M(te,K)},null,!0),M(ee,re)}),de(()=>{Ie(T,`size-8 border align-middle ${(e(g)[_(h)][_(I)]===1&&e(s)[_(h)][_(I)]!==-1?" bg-green-200":e(g)[_(h)][_(I)]===1?"bg-red-400":"")??""} enabled:hover:bg-slate-100`),T.disabled=e(i)!==t.PLAYING||e(g)[_(h)][_(I)]===1}),M(W,T)}),M(a,E)});var pe=S(S(he,!0));P(pe,()=>e(i)===t.WON,a=>{var b=pr();M(a,b)});var me=S(S(pe,!0));P(me,()=>e(i)===t.GAMEOVER,a=>{var b=mr(),h=$(b);h.nodeValue="Sorry, you lost :(",M(a,b)});var Me=S(S(me,!0));P(Me,()=>e(i)!==t.PLAYING,a=>{var b=Er();b.__click=[Ar,X],M(a,b)}),de(()=>{U.disabled=e(v)===o.EASY,Z.disabled=e(v)===o.MEDIUM,G.disabled=e(v)===o.HARD,ve(le,`Score: ${e(p)??""}/${e(k)??""}`),ve(Re,`ðŸš© ${e(l)??""}`)}),M(n,Y),lr()}ze(["click","contextmenu"]);export{Ir as component};
